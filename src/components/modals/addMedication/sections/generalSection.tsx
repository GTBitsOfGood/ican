import { Dispatch, SetStateAction } from "react";
import { AddMedicationInfo } from "../addMedicationInfo";
import FormControl from "@/components/ui/form/formControl";
import DropDown from "@/components/ui/form/dropDown";
import Option from "@/components/ui/form/option";
import IDInput from "@/components/modals/addMedication/idInput";

interface GeneralSectionProps {
  info: AddMedicationInfo;
  setInfo: Dispatch<SetStateAction<AddMedicationInfo>>;
}

export default function GeneralSection({ info, setInfo }: GeneralSectionProps) {
  return (
    <div>
      <FormControl>
        <label className="text-4xl font-bold">Form of Medication</label>
        <DropDown
          width={220}
          value={info.general.form}
          setValue={(newValue: string) =>
            setInfo((prev) => {
              const temp = { ...prev };
              temp.general.form =
                newValue as AddMedicationInfo["general"]["form"];
              return temp;
            })
          }
        >
          <Option
            value="Pill"
            icon={
              <svg
                className="w-10 h-10"
                xmlns="http://www.w3.org/2000/svg"
                width="40"
                height="40"
                viewBox="0 0 40 40"
                fill="none"
              >
                <path
                  d="M33.8155 6.18759C32.2548 4.62698 30.1382 3.75024 27.9311 3.75024C25.7241 3.75024 23.6074 4.62698 22.0467 6.18759L6.18736 22.0454C4.65938 23.6127 3.81041 25.7189 3.82439 27.9078C3.83836 30.0966 4.71415 32.1918 6.26203 33.7395C7.80991 35.2871 9.90522 36.1627 12.0941 36.1763C14.2829 36.19 16.389 35.3408 17.9561 33.8126L33.817 17.9548C35.3751 16.393 36.2499 14.2769 36.2496 12.0709C36.2493 9.86481 35.3739 7.74898 33.8155 6.18759ZM16.1889 32.0454C15.0972 33.1373 13.6164 33.7509 12.0723 33.751C10.5282 33.7512 9.04728 33.1379 7.95533 32.0462C6.86339 30.9544 6.24986 29.4736 6.24971 27.9295C6.24956 26.3854 6.86281 24.9045 7.95455 23.8126L14.9999 16.7673L23.2342 25.0001L16.1889 32.0454ZM32.0483 16.1876L24.9999 23.2329L16.7686 15.0001L23.8155 7.95477C24.9116 6.88403 26.3856 6.28855 27.9178 6.29751C29.4501 6.30646 30.917 6.91911 32.0005 8.00259C33.084 9.08608 33.6966 10.553 33.7056 12.0853C33.7145 13.6175 33.119 15.0915 32.0483 16.1876ZM29.6374 12.8657C29.7536 12.9818 29.8458 13.1197 29.9087 13.2714C29.9716 13.4232 30.004 13.5858 30.004 13.7501C30.004 13.9144 29.9716 14.077 29.9087 14.2288C29.8458 14.3805 29.7536 14.5184 29.6374 14.6345L25.8874 18.3845C25.7712 18.5005 25.6334 18.5925 25.4817 18.6553C25.33 18.718 25.1674 18.7503 25.0032 18.7502C24.839 18.7502 24.6765 18.7177 24.5248 18.6549C24.3732 18.592 24.2354 18.4998 24.1194 18.3837C24.0034 18.2675 23.9113 18.1297 23.8486 17.978C23.7858 17.8263 23.7536 17.6637 23.7536 17.4995C23.7537 17.3354 23.7861 17.1728 23.849 17.0212C23.9119 16.8695 24.004 16.7317 24.1202 16.6157L27.8702 12.8657C28.1046 12.6315 28.4224 12.4999 28.7538 12.4999C29.0851 12.4999 29.403 12.6315 29.6374 12.8657Z"
                  fill="black"
                />
              </svg>
            }
          />
          <Option
            value="Injection"
            icon={
              <svg
                className="w-10 h-10"
                xmlns="http://www.w3.org/2000/svg"
                width="40"
                height="40"
                viewBox="0 0 40 40"
                fill="none"
              >
                <path
                  d="M11.1864 18.46C11.4072 18.2231 11.5274 17.9096 11.5217 17.5858C11.516 17.262 11.3848 16.953 11.1558 16.724C10.9268 16.495 10.6178 16.3638 10.294 16.3581C9.97015 16.3523 9.65673 16.4725 9.41978 16.6933L11.1864 18.46ZM32.8814 17.1883C32.7681 16.8767 32.5355 16.6229 32.235 16.4827C31.9345 16.3425 31.5906 16.3275 31.2789 16.4408C30.9673 16.5542 30.7135 16.7868 30.5733 17.0873C30.4331 17.3878 30.4181 17.7317 30.5314 18.0433L32.8814 17.1883ZM27.2731 12.7267L26.3898 13.61C26.6241 13.8441 26.9419 13.9756 27.2731 13.9756C27.6044 13.9756 27.9221 13.8441 28.1564 13.61L27.2731 12.7267ZM32.4498 12.3983C32.5642 12.5212 32.7022 12.6197 32.8555 12.688C33.0089 12.7563 33.1744 12.793 33.3422 12.796C33.5101 12.799 33.6768 12.7681 33.8324 12.7052C33.9881 12.6423 34.1295 12.5488 34.2482 12.4301C34.3669 12.3114 34.4604 12.17 34.5233 12.0143C34.5862 11.8587 34.6171 11.692 34.6141 11.5241C34.6111 11.3563 34.5744 11.1908 34.5061 11.0374C34.4378 10.8841 34.3393 10.7461 34.2164 10.6317L32.4498 12.3983ZM29.3664 5.78334C29.2511 5.66401 29.1131 5.56885 28.9606 5.50341C28.808 5.43797 28.644 5.40357 28.478 5.4022C28.312 5.40084 28.1475 5.43254 27.9939 5.49547C27.8403 5.55839 27.7008 5.65127 27.5834 5.76869C27.4661 5.88612 27.3734 6.02572 27.3106 6.17937C27.2478 6.33302 27.2163 6.49764 27.2178 6.66361C27.2193 6.82958 27.2539 6.99359 27.3195 7.14606C27.385 7.29854 27.4803 7.43642 27.5998 7.55168L29.3664 5.78334ZM5.78144 32.45C5.662 32.5653 5.56671 32.7031 5.50113 32.8556C5.43555 33.0081 5.40099 33.1721 5.39947 33.3381C5.39795 33.504 5.4295 33.6687 5.49227 33.8223C5.55505 33.976 5.6478 34.1156 5.76511 34.233C5.88242 34.3504 6.02194 34.4433 6.17553 34.5062C6.32912 34.5691 6.49371 34.6008 6.65968 34.5995C6.82566 34.5981 6.9897 34.5637 7.14223 34.4983C7.29477 34.4328 7.43274 34.3377 7.54811 34.2183L5.78144 32.45ZM20.9214 21.5817C20.6845 21.3609 20.3711 21.2407 20.0472 21.2464C19.7234 21.2521 19.4144 21.3833 19.1854 21.6123C18.9564 21.8413 18.8252 22.1503 18.8195 22.4741C18.8138 22.798 18.934 23.1114 19.1548 23.3483L20.9214 21.5817ZM21.2348 30.885C21.4704 31.1128 21.7861 31.239 22.1139 31.2363C22.4416 31.2336 22.7552 31.1023 22.9871 30.8706C23.2189 30.639 23.3505 30.3255 23.3535 29.9978C23.3565 29.67 23.2307 29.3542 23.0031 29.1183L21.2348 30.885ZM20.2598 26.375C20.1453 26.2522 20.0073 26.1537 19.854 26.0854C19.7007 26.0171 19.5352 25.9803 19.3673 25.9774C19.1995 25.9744 19.0328 26.0053 18.8771 26.0681C18.7215 26.131 18.5801 26.2246 18.4614 26.3433C18.3427 26.462 18.2491 26.6034 18.1862 26.759C18.1234 26.9147 18.0925 27.0814 18.0955 27.2492C18.0984 27.4171 18.1352 27.5826 18.2035 27.7359C18.2718 27.8892 18.3703 28.0272 18.4931 28.1417L20.2598 26.375ZM14.1164 11.995C13.8956 12.232 13.7754 12.5454 13.7811 12.8692C13.7869 13.193 13.9181 13.502 14.1471 13.731C14.3761 13.9601 14.6851 14.0913 15.0089 14.097C15.3327 14.1027 15.6462 13.9825 15.8831 13.7617L14.1164 11.995ZM28.6781 21.675L27.6014 22.7517L29.3681 24.52L30.4464 23.4433L28.6781 21.675ZM27.6014 22.7517L23.9648 26.3883L25.7314 28.1567L29.3681 24.52L27.6014 22.7517ZM23.9648 26.3883L21.5398 28.8133L23.3064 30.58L25.7314 28.1567L23.9648 26.3883ZM11.1864 28.8133C9.81369 27.4403 9.04251 25.5782 9.04251 23.6367C9.04251 21.6951 9.81369 19.833 11.1864 18.46L9.41978 16.6933C7.57835 18.5352 6.54388 21.033 6.54388 23.6375C6.54388 26.242 7.57835 28.7398 9.41978 30.5817L11.1864 28.8133ZM21.5398 28.8133C21.4528 28.8997 21.3638 28.9842 21.2731 29.0667L22.9531 30.9183C23.0731 30.8095 23.1914 30.6972 23.3081 30.5817L21.5398 28.8133ZM21.2731 29.0667C19.8801 30.326 18.0565 31.002 16.1792 30.9549C14.3019 30.9077 12.5145 30.141 11.1864 28.8133L9.41978 30.58C11.2016 32.3616 13.5999 33.3902 16.1188 33.4532C18.6377 33.5162 21.0845 32.6087 22.9531 30.9183L21.2731 29.0667ZM30.4464 23.4433C31.0614 22.8267 31.5714 22.3183 31.9564 21.8717C32.3498 21.4133 32.6781 20.9467 32.8814 20.3883L30.5314 19.5333C30.4748 19.6883 30.3598 19.8933 30.0598 20.2417C29.7514 20.6017 29.3198 21.0333 28.6781 21.675L30.4464 23.4433ZM30.5314 18.0433C30.7064 18.5233 30.7064 19.0517 30.5314 19.5333L32.8814 20.3883C33.2564 19.355 33.2564 18.2217 32.8814 17.1883L30.5314 18.0433ZM25.8664 9.55334C25.2531 8.94001 24.7431 8.42834 24.2948 8.04334C23.8381 7.65168 23.3698 7.32167 22.8114 7.11834L21.9564 9.46834C22.1131 9.52501 22.3164 9.64001 22.6664 9.94001C23.0248 10.2483 23.4581 10.68 24.0998 11.3217L25.8664 9.55334ZM18.3248 11.3217C18.7871 10.8454 19.2652 10.3846 19.7581 9.94001C20.1081 9.64001 20.3098 9.52501 20.4664 9.46834L19.6114 7.11834C19.0531 7.32167 18.5864 7.65168 18.1281 8.04334C17.6814 8.42834 17.1714 8.94001 16.5564 9.55334L18.3248 11.3217ZM22.8114 7.11834C21.7781 6.7412 20.6448 6.7412 19.6114 7.11834L20.4664 9.46834C20.9481 9.29334 21.4764 9.29334 21.9564 9.46834L22.8114 7.11834ZM28.1564 13.61L31.7931 9.97501L30.0264 8.20834L26.3881 11.8433L28.1564 13.61ZM30.0248 9.97501L32.4498 12.3983L34.2164 10.6317L31.7931 8.20667L30.0248 9.97501ZM31.7914 8.20834L29.3698 5.78334L27.6031 7.55001L30.0264 9.97501L31.7914 8.20834ZM9.41978 28.8117L5.78144 32.45L7.54978 34.2167L11.1864 30.5817L9.41978 28.8117ZM29.3698 22.7517L17.2498 10.6317L15.4814 12.3983L27.6031 24.52L29.3698 22.7517ZM25.7331 26.3867L20.9248 21.5783L19.1581 23.345L23.9664 28.155L25.7331 26.3867ZM23.0064 29.115L22.9998 29.1067L21.2314 30.8733L21.2381 30.8817L23.0064 29.115ZM22.9998 29.1067L20.2631 26.3717L18.4964 28.1383L21.2298 30.875L22.9998 29.1067ZM15.8831 13.7633L17.2481 12.3983L15.4798 10.6317L14.1164 11.995L15.8831 13.7633ZM17.2481 12.3983L18.3248 11.3217L16.5581 9.55501L15.4798 10.6317L17.2481 12.3983ZM24.0981 11.3217L26.3881 13.6117L28.1564 11.8433L25.8664 9.55334L24.0981 11.3217Z"
                  fill="black"
                />
              </svg>
            }
          />
        </DropDown>
      </FormControl>
      <div className="mt-8 text-4xl font-bold">Medication ID</div>
      <div className="text-2xl">
        Choose up to 5 characters to create an ID to help you remember which
        medication to take.
      </div>
      <IDInput
        values={
          info.general.medicationId
            ? [...info.general.medicationId.split(""), "", "", "", ""].slice(
                0,
                5,
              )
            : ["", "", "", "", ""]
        }
        setValues={(newValues: string[]) =>
          setInfo((prev) => {
            const temp = { ...prev };
            temp.general.medicationId = newValues.join("") as string;
            return temp;
          })
        }
      />
    </div>
  );
}
